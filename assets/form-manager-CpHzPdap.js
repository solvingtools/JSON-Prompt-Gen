(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function a(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=a(t);fetch(t.href,r)}})();class h{constructor(){this.isInitialized=!1,this.currentFormType=null,this.formConfigs=this.getFormConfigurations(),this.init()}getFormConfigurations(){return{bug:{title:"Report a Bug",subtitle:"Help us fix issues faster by providing detailed information",action:"https://docs.google.com/forms/d/e/1FAIpQLSdAfiosyDKMh8ikLJ8bajbBNIykNvxbYY9v927OODF4F0fCrQ/formResponse",fields:[{name:"name",label:"Your Name",type:"text",required:!0,placeholder:"John Doe",entryId:"entry.612544380"},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"john@example.com",entryId:"entry.437453787"},{name:"issueType",label:"Issue Type",type:"select",required:!0,options:["Interface","Generator Logic","Performance","Mobile","Export"],entryId:"entry.1234265674"},{name:"severity",label:"Severity",type:"select",required:!0,options:["Blocker","Major","Minor","Tweak"],entryId:"entry.1929743395"},{name:"environment",label:"Environment (Browser & OS)",type:"text",required:!1,placeholder:"Chrome 120 on Windows 11",entryId:"entry.1633959711"},{name:"expected",label:"Expected Behavior",type:"textarea",required:!0,placeholder:"What did you expect to happen?",entryId:"entry.819638022"},{name:"actual",label:"Actual Behavior",type:"textarea",required:!0,placeholder:"What actually happened?",entryId:"entry.1438176335"},{name:"steps",label:"Steps to Reproduce",type:"textarea",required:!0,placeholder:`1. Go to...
2. Click on...
3. See error`,entryId:"entry.1664947985"},{name:"errors",label:"Error Logs/Messages",type:"textarea",required:!1,placeholder:"Paste any error messages from console",entryId:"entry.527551602"}]},feature:{title:"Request a Feature",subtitle:"Share your ideas to make the tool even better",action:"https://docs.google.com/forms/d/e/1FAIpQLScnrUDqo97U6Vc0ckqA6FLsemjxd025oV-E1Eogi7oxx-9a0A/formResponse",fields:[{name:"name",label:"Your Name",type:"text",required:!0,placeholder:"Jane Smith",entryId:"entry.612544380"},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"jane@example.com",entryId:"entry.1044274461"},{name:"featureTitle",label:"Feature Name",type:"text",required:!0,placeholder:"Real-time Collaboration",entryId:"entry.553278622"},{name:"context",label:"Feature Area",type:"select",required:!0,options:["Dictionary","Export Tools","AI Integration","Workflow","Mobile App"],entryId:"entry.1234265674"},{name:"problem",label:"Problem to Solve",type:"textarea",required:!0,placeholder:"Why is this feature needed?",entryId:"entry.1633959711"},{name:"solution",label:"Proposed Solution",type:"textarea",required:!0,placeholder:"How would this feature work?",entryId:"entry.819638022"},{name:"useCase",label:"Use Case Scenario",type:"textarea",required:!0,placeholder:"Describe a real-world scenario where this would be useful",entryId:"entry.1824049887"},{name:"priority",label:"Priority Level",type:"select",required:!0,options:["Critical for my work","Would improve my workflow","Nice to have"],entryId:"entry.1929743395"}]},general:{title:"General Inquiry",subtitle:"Get in touch for partnerships, press, or general questions",action:"https://docs.google.com/forms/d/e/1FAIpQLScEEkuHDWnzSPwGX7XRle2WgVHi3ZUhA2QeLt8VRS1QUFVmlA/formResponse",fields:[{name:"name",label:"Your Name",type:"text",required:!0,placeholder:"Alex Johnson",entryId:"entry.612544380"},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"alex@example.com",entryId:"entry.1324323823"},{name:"category",label:"Subject Category",type:"select",required:!0,options:["Partnership","Press/Media","General Feedback","Other"],entryId:"entry.1234265674"},{name:"contactMethod",label:"Preferred Contact Method",type:"select",required:!1,options:["Email","Phone","Video Call"],entryId:"entry.621081373"},{name:"subject",label:"Subject",type:"text",required:!0,placeholder:"What is your inquiry about?",entryId:"entry.1633959711"},{name:"message",label:"Message",type:"textarea",required:!0,placeholder:"Please provide detailed information...",entryId:"entry.819638022"}]},security:{title:"Report Security Issue",subtitle:"We take security seriously. Your report is confidential.",action:"https://docs.google.com/forms/d/e/1FAIpQLSfvuvX20NGyZpGk4nC5N8QO2qUAtzgJnjT1PQ6vtPQc1Vo_Fg/formResponse",fields:[{name:"alias",label:"Name/Alias",type:"text",required:!0,placeholder:"You can use an alias for anonymity",entryId:"entry.612544380"},{name:"email",label:"Secure Email",type:"email",required:!0,placeholder:"secure@example.com",entryId:"entry.1459126260"},{name:"vulnType",label:"Vulnerability Category",type:"select",required:!0,options:["XSS","Authentication Bypass","SQL Injection","Logic Flaw","Data Leak","Other"],entryId:"entry.1234265674"},{name:"component",label:"Target Component",type:"text",required:!0,placeholder:"e.g., Login Form, API Endpoint",entryId:"entry.1633959711"},{name:"impact",label:"Threat Impact",type:"select",required:!0,options:["Low","Medium","High","Critical"],entryId:"entry.1929743395"},{name:"poc",label:"Proof of Concept Steps",type:"textarea",required:!0,placeholder:"Detailed steps to reproduce the vulnerability",entryId:"entry.819638022"},{name:"remediation",label:"Suggested Fix",type:"textarea",required:!1,placeholder:"If you have recommendations for a fix",entryId:"entry.2143940871"}]},privacy:{title:"Privacy & Data Request",subtitle:"Exercise your data rights under GDPR/CCPA",action:"https://docs.google.com/forms/d/e/1FAIpQLScId2WU1z8CQVJK11P1fzKU4w1fkHbIV_qeq5-6_8P3gSQgQA/formResponse",fields:[{name:"name",label:"Full Name",type:"text",required:!0,placeholder:"Legal Name",entryId:"entry.612544380"},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"email@example.com",entryId:"entry.35958845"},{name:"reference",label:"Account Identifier (if applicable)",type:"text",required:!1,placeholder:"User ID or email on file",entryId:"entry.1234265674"},{name:"requestType",label:"Request Type",type:"select",required:!0,options:["Right to be Forgotten (Delete Data)","Data Access Request","Opt-Out of Processing","Data Correction"],entryId:"entry.1176564616"},{name:"jurisdiction",label:"Jurisdiction",type:"select",required:!1,options:["GDPR (EU)","CCPA (California)","Other"],entryId:"entry.1633959711"},{name:"details",label:"Request Details",type:"textarea",required:!0,placeholder:"Provide specific information about your request",entryId:"entry.819638022"}]},legal:{title:"Legal & Compliance Inquiry",subtitle:"Questions about terms, licensing, or legal matters",action:"https://docs.google.com/forms/d/e/1FAIpQLSds5P0IBVLv_hpIYcpkDfLUlg_XgI5xmsqJ0uiNI1zS4xdKjA/formResponse",fields:[{name:"name",label:"Your Name",type:"text",required:!0,placeholder:"Full Name",entryId:"entry.612544380"},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"email@example.com",entryId:"entry.1774178489"},{name:"organization",label:"Organization (if applicable)",type:"text",required:!1,placeholder:"Company Name",entryId:"entry.1154990499"},{name:"topic",label:"Topic Area",type:"select",required:!0,options:["Licensing","Trademark","Terms Violation","Copyright","General Legal"],entryId:"entry.1234265674"},{name:"clause",label:"Specific Clause Reference",type:"text",required:!1,placeholder:"Section or clause number",entryId:"entry.1633959711"},{name:"inquiry",label:"Question or Concern",type:"textarea",required:!0,placeholder:"Describe your legal question or concern",entryId:"entry.819638022"}]},voting:{title:"Pro Feature Poll",subtitle:"Help prioritize the features you want most",action:"https://docs.google.com/forms/d/e/1FAIpQLScFuQMHZWoP82FXEGg3-9jkfpmW8bZXxLjIEselOUFaq1bb1w/formResponse",fields:[{name:"name",label:"Your Name",type:"text",required:!0,placeholder:"John Doe",entryId:"entry.1542724307"},{name:"email",label:"Email Address",type:"email",required:!0,placeholder:"john@example.com",entryId:"entry.1693986332"},{name:"profile",label:"User Profile",type:"select",required:!0,options:["Hobbyist","Professional Director","Studio/Agency","Developer/Integrator"],entryId:"entry.1504256996"},{name:"priority",label:"Top Priority Feature",type:"select",required:!0,options:["Real-time Video Preview","3D Scene Controls","Team Collaboration","Advanced Export Formats","API Access"],entryId:"entry.953202038"},{name:"secondary",label:"Secondary Interest",type:"select",required:!1,options:["Real-time Video Preview","3D Scene Controls","Team Collaboration","Advanced Export Formats","API Access"],entryId:"entry.963578128"},{name:"workflow",label:"Current Workflow",type:"textarea",required:!1,placeholder:"How do you currently manage multi-shot video projects?",entryId:"entry.1634956242"},{type:"header",label:"Pricing Sensitivity",subtitle:"Help us design fair pricing tiers"},{name:"monthlyPrice",label:"What would you pay monthly for unlimited access?",type:"select",required:!0,options:["Free only","$5-9","$10-19","$20-29","$30+","Other"],entryId:"entry.1769860341"},{name:"paidFeatures",label:"Which features would make you pay?",type:"checkbox",required:!0,options:["Style Shifter (transform visual styles)","Character Bible (reference uploads)","Team Collaboration","Advanced Physics Engine","Template Marketplace","One-Click Export Suite","Audio Cue Integration","Multi-Scene Timeline Builder","Atomic Scene + Global Locks","Visual Pre-Visualization","Consistency Score Preview"],entryId:"entry.691126925"},{name:"concerns",label:"What's your biggest concern about paid tiers?",type:"textarea",required:!0,placeholder:"Cost, limitation, or value concerns...",entryId:"entry.1767161251"},{name:"feedback",label:"Additional Feedback",type:"textarea",required:!1,placeholder:"Any other features or improvements you'd like to see?",entryId:"entry.2108740022"}]}}}init(){this.isInitialized||(this.injectModalHTML(),this.bindEvents(),this.isInitialized=!0)}injectModalHTML(){document.body.insertAdjacentHTML("beforeend",`
            <div class="form-modal-overlay" id="formModal">
                <div class="glass-form-container">
                    <!-- Success Message (Hidden by default) -->
                    <div class="form-success-message" id="formSuccess">
                        <div class="success-icon">âœ“</div>
                        <h3 class="success-title">Message Sent!</h3>
                        <p class="success-description">Thank you for your submission. We'll get back to you shortly.</p>
                    </div>
                    
                    <!-- Form Content -->
                    <div id="formContent">
                        <div class="form-modal-header">
                            <div class="form-header-row">
                                <h2 class="form-modal-title" id="formTitle">Contact Form</h2>
                                <button class="form-close-btn" id="formCloseBtn" type="button">&times;</button>
                            </div>
                            <p class="form-modal-subtitle" id="formSubtitle">Please fill out the form below</p>
                        </div>
                        
                        <form id="dynamicForm" method="POST" target="formBridge">
                            <div id="formFieldsContainer"></div>
                            <button type="submit" class="form-submit-btn" id="formSubmitBtn">
                                Send Message
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Hidden iframe for silent submission -->
            <iframe name="formBridge" id="formBridge" style="display:none;"></iframe>
        `)}bindEvents(){const e=document.getElementById("formModal"),a=document.getElementById("formCloseBtn"),o=document.getElementById("dynamicForm");if(!e||!o||!a){console.error("FormManager: Required modal elements not found");return}a.addEventListener("click",()=>this.closeForm()),e.addEventListener("click",t=>{t.target===e&&this.closeForm()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&e.classList.contains("active")&&this.closeForm()}),o.addEventListener("submit",t=>this.handleSubmit(t)),o.addEventListener("input",t=>{(t.target.classList.contains("form-input")||t.target.classList.contains("form-textarea")||t.target.classList.contains("form-select-hidden"))&&this.validateField(t.target)}),o.addEventListener("click",t=>{const r=t.target.closest(".radio-option");if(r){const n=r.querySelector('input[type="radio"]');n&&(n.checked=!0,document.querySelectorAll(`input[name="${n.name}"]`).forEach(i=>{i.closest(".radio-option").classList.remove("selected")}),r.classList.add("selected"))}const s=t.target.closest(".checkbox-option");if(s){const n=s.querySelector('input[type="checkbox"]');t.target!==n&&(n.checked=!n.checked,n.dispatchEvent(new Event("change",{bubbles:!0})))}const c=t.target.closest(".dropdown-trigger");if(c){const n=c.closest(".custom-dropdown");t.stopPropagation(),document.querySelectorAll(".custom-dropdown.open").forEach(i=>{i!==n&&i.classList.remove("open")}),n.classList.toggle("open")}const l=t.target.closest(".dropdown-item");if(l){const n=l.closest(".custom-dropdown"),i=n.querySelector(".form-select-hidden"),m=n.querySelector(".dropdown-value"),p=l.getAttribute("data-value"),y=l.textContent;n.querySelectorAll(".dropdown-item").forEach(f=>f.classList.remove("selected")),l.classList.add("selected"),m.textContent=y,m.classList.add("has-value"),i.value=p,n.classList.remove("open"),this.validateField(i)}}),o.addEventListener("change",t=>{if(t.target.type==="checkbox"){const r=t.target.closest(".checkbox-option");r&&(t.target.checked?r.classList.add("selected"):r.classList.remove("selected"))}})}openForm(e){const a=this.formConfigs[e];if(!a){console.error(`Form type "${e}" not found`);return}this.currentFormType=e,this.renderForm(a),document.getElementById("formModal").classList.add("active"),document.body.style.overflow="hidden"}closeForm(){document.getElementById("formModal").classList.remove("active"),document.body.style.overflow="",setTimeout(()=>{this.resetForm()},400)}renderForm(e){const a=document.getElementById("dynamicForm"),o=document.getElementById("formTitle"),t=document.getElementById("formSubtitle"),r=document.getElementById("formFieldsContainer");o&&(o.textContent=e.title),t&&(t.textContent=e.subtitle),a.action=e.action||"#",r.innerHTML="",e.fields.forEach(s=>{const c=this.createFieldHTML(s);r.insertAdjacentHTML("beforeend",c)})}createFieldHTML(e){const a=e.required?'<span class="required">*</span>':"";if(e.type==="header")return`
                <div class="form-section-header">
                    <h3 class="form-section-title">${e.label}</h3>
                    ${e.subtitle?`<p class="form-section-subtitle">${e.subtitle}</p>`:""}
                </div>
            `;if(e.type==="checkbox"){const o=e.options.map((t,r)=>`
                <label class="checkbox-option">
                    <input type="checkbox" name="${e.entryId||e.name}" value="${t}" ${e.required,""}>
                    <span>${t}</span>
                </label>
            `).join("");return`
                <div class="form-field-group checkbox-group-container" data-required="${e.required}">
                    <label class="form-field-label">${e.label}${a}</label>
                    <div class="checkbox-group">
                        ${o}
                    </div>
                    <div class="form-error-message">Please select at least one option</div>
                </div>
            `}if(e.type==="radio"){const o=e.options.map((t,r)=>`
                <label class="radio-option">
                    <input type="radio" name="${e.entryId||e.name}" value="${t}" ${e.required?"required":""}>
                    <span>${t}</span>
                </label>
            `).join("");return`
                <div class="form-field-group">
                    <label class="form-field-label">${e.label}${a}</label>
                    <div class="radio-group">
                        ${o}
                    </div>
                </div>
            `}if(e.type==="select"){const o=e.options.map((t,r)=>`<div class="dropdown-item" data-value="${t}">${t}</div>`).join("");return`
                <div class="form-field-group">
                    <label class="form-field-label">${e.label}${a}</label>
                    <div class="custom-dropdown" data-field-name="${e.entryId||e.name}">
                        <div class="dropdown-trigger">
                            <span class="dropdown-value">Select ${e.label}</span>
                            <svg class="dropdown-chevron" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                        </div>
                        <div class="dropdown-menu">
                            ${o}
                        </div>
                        <input type="hidden" name="${e.entryId||e.name}" class="form-select-hidden" ${e.required?"required":""}>
                    </div>
                    <div class="form-error-message">This field is required</div>
                </div>
            `}return e.type==="textarea"?`
                <div class="form-field-group">
                    <label class="form-field-label">${e.label}${a}</label>
                    <textarea 
                        name="${e.entryId||e.name}" 
                        class="form-textarea" 
                        placeholder="${e.placeholder||""}"
                        ${e.required?"required":""}
                    ></textarea>
                    <div class="form-error-message">This field is required</div>
                </div>
            `:`
            <div class="form-field-group">
                <label class="form-field-label">${e.label}${a}</label>
                <input 
                    type="${e.type}" 
                    name="${e.entryId||e.name}" 
                    class="form-input"
                    placeholder="${e.placeholder||""}"
                    ${e.required?"required":""}
                >
                <div class="form-error-message">This field is required</div>
            </div>
        `}validateField(e){const a=e.value.trim(),o=e.closest(".form-field-group"),t=e.closest(".custom-dropdown");return e.hasAttribute("required")&&!a?(e.classList.add("invalid"),e.classList.remove("valid"),t&&t.classList.add("invalid"),o.classList.add("has-error"),!1):e.type==="email"&&a&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?(e.classList.add("invalid"),e.classList.remove("valid"),o.classList.add("has-error"),!1):(e.classList.remove("invalid"),e.classList.add("valid"),t&&(t.classList.remove("invalid"),t.classList.add("valid")),o.classList.remove("has-error"),!0)}validateForm(){const e=document.getElementById("dynamicForm"),a=e.querySelectorAll(".form-input, .form-textarea, .form-select-hidden");let o=!0;a.forEach(r=>{this.validateField(r)||(o=!1)});const t={};return e.querySelectorAll('input[type="radio"][required]').forEach(r=>{t[r.name]||(t[r.name]=!1),r.checked&&(t[r.name]=!0)}),Object.values(t).forEach(r=>{r||(o=!1)}),e.querySelectorAll('.checkbox-group-container[data-required="true"]').forEach(r=>{r.querySelectorAll('input[type="checkbox"]:checked').length===0?(o=!1,r.classList.add("has-error")):r.classList.remove("has-error")}),o}handleSubmit(e){if(e.preventDefault(),!this.validateForm())return;const a=document.getElementById("dynamicForm"),o=document.getElementById("formSubmitBtn"),t=o.textContent;o.classList.add("loading"),o.disabled=!0,o.textContent="Sending...",a.target="formBridge";const r=document.getElementById("formBridge"),s=()=>{this.showSuccess(),o.classList.remove("loading"),o.disabled=!1,o.textContent=t,r.removeEventListener("load",s)};r.addEventListener("load",s),a.submit()}showSuccess(){document.getElementById("formContent").style.display="none",document.getElementById("formSuccess").classList.add("active"),setTimeout(()=>{this.closeForm()},3e3)}resetForm(){document.getElementById("formContent").style.display="block",document.getElementById("formSuccess").classList.remove("active"),document.getElementById("dynamicForm").reset(),document.getElementById("formSubmitBtn").classList.remove("loading"),document.getElementById("formSubmitBtn").textContent="Send Message",document.querySelectorAll(".form-input, .form-textarea, .form-select-hidden").forEach(e=>{e.classList.remove("valid","invalid"),e.closest(".form-field-group").classList.remove("has-error")}),document.querySelectorAll(".custom-dropdown").forEach(e=>{e.classList.remove("valid","invalid");const a=e.querySelector(".dropdown-value");if(a&&this.currentFormType){const o=this.formConfigs[this.currentFormType];if(o){const t=e.getAttribute("data-field-name"),r=o.fields.find(s=>(s.entryId||s.name)===t);a.textContent="Select "+(r?r.label:"Option"),a.classList.remove("has-value")}}})}}function u(){window.formManagerInstance||(window.formManagerInstance=new h)}window.openForm=function(d){const e=window.formManagerInstance;if(e&&e.isInitialized)e.openForm(d);else{const a=()=>{const o=window.formManagerInstance;o&&o.isInitialized?o.openForm(d):setTimeout(a,100)};a()}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",u):u();
